import csv
import os
import sys

if len(sys.argv) < 3:
    print "Usage: gen_img_list.py train/test train_folder img.lst"
    exit(1)

task = sys.argv[1]
fc_label = csv.reader(file("label.csv"))
fc_file = csv.reader(file("trainLabels.csv"),delimiter=" ")
fi = sys.argv[2]
fo = csv.writer(open(sys.argv[3], "w"), delimiter='\t', lineterminator='\n')

# make class map

img_lst = []
cnt = 0
if task == "train":
    i=0;
    while (i < 8000):
        filename = str(fc_file.next()[0]) + ".jpg"
        path = fi + "/" + filename
        print path+'\n'
        img_lst.append((cnt, str(int(fc_label.next()[0]) - 1), path))
        cnt += 1
        i = i+1

for item in img_lst:
    fo.writerow(item)

